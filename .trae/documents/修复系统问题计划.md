## 修复计划

### 1. 修复就诊记录界面获取失败问题

**问题原因**：VisitHistory.vue 中调用了不存在的 `visitApi.getAllVisits()` 方法
**解决方案**：

* 修改 VisitHistory.vue 中的 fetchVisitHistories 方法

* 对于非患者角色，移除调用不存在的 getAllVisits 方法

* 添加合适的错误处理和提示

### 2. 修复患者挂号界面显示问题

**问题原因**：路由配置中 `/register` 路径指向的是注册界面，而非挂号界面
**解决方案**：

* 添加新的路由 `/opd-register`，指向 Register 组件（挂号界面）

* 确保挂号功能正常访问

### 3. 在登录界面添加注册按钮

**解决方案**：

* 在 Login.vue 组件中添加指向注册页面的按钮

* 按钮链接到 `/register` 路径

* 样式与现有登录按钮协调

## 实施步骤

1. 修复 VisitHistory.vue 中的 fetchVisitHistories 方法
2. 更新路由配置，添加挂号界面路由
3. 在 Login.vue 中添加注册按钮
4. 测试所有修复后的功能

## 预期效果

1. 就诊记录界面能够正常显示就诊记录
2. 患者可以通过正确的路径访问挂号界面
3. 登录界面有明显的注册按钮，方便新用户注册

