# 完善处方功能：库存检查与信息展示

我将完善医生开具处方时的库存管理和信息展示功能。

## 1. 前端增强 (`WaitingList.vue`)

*   **增强药品显示**:
    *   在药品下拉选择框中，展示更详细的药品信息，包括：规格、单价、当前库存。
    *   格式示例：`药品名 (规格: 0.25g*24粒, 库存: 50) - ￥25.00`。

*   **前端库存校验**:
    *   在 `addDrug` 方法中，当医生尝试添加药品时，立即检查所选数量是否超过该药品的当前库存（`drugStock`）。
    *   如果超过库存，阻止添加，并显示具体的错误提示：`药品【XXX】库存不足，当前库存：5`。
    *   同时检查"已添加列表"中的数量累加，防止多次添加同一药品导致总数超标。

## 2. 后端增强 (`PrescriptionServiceImpl.java`)

虽然前端做了校验，但后端也必须进行最终的库存检查，以防并发情况下的库存不足。

*   **库存校验逻辑**:
    *   在 `createPrescription` 方法中，遍历处方明细时，再次比对请求的数量与数据库中的实时库存。
    *   如果库存不足，抛出带有具体药品名称和剩余库存数量的异常信息。

## 执行步骤
1.  修改 `WaitingList.vue`: 优化药品选择下拉框的展示文本。
2.  修改 `WaitingList.vue`: 完善 `addDrug` 方法的库存校验逻辑。
3.  修改 `PrescriptionServiceImpl.java`: 确保后端抛出的异常信息清晰准确。
